\chapter{Audyt po implementacji zmian} 
Opieraj¹c siê na dokonanych zmianach ponownie zostanie wykonany aduyt bezpieczeñstwa oraz zostan¹ przetesowane zaimplementowane rozwi¹zania.

\section{Ponowne przeprowadzenie audytu}
Œrodowisko przeprowadzania audyty jest takie samo jak na rysunku~\ref{fig:Rys04/srodowisko}. Identycznie jest równie¿ rodzaj przeprowadzonego auty oraz wykonane kroki. 

Wyszukano parametów GET komend¹ \texttt{sqlmap -u 192.168.1.46:4449/}, jego wynik jest taki sam jak na rysunku~\ref{fig:Rys04/SQLMap1.png}. Kolejnie uruchomiono polecenie \texttt{sqlmap -u~192.168.1.46:4449/ -crawl=2}, którego rezultat nie zmieni³ porównuj¹c z rysunkiem~\ref{fig:Rys04/SQLMap2.png}. Nastêpnie u¿yto komendy \texttt{sqlmap -wizard}, skonfigurowanego go identycznie z~rysunkiem~\ref{fig:Rys04/SQLMap4.png}. Komunikat pojawiaj¹cy siê w konsoli aplikacji zmieni³ siê. Informuje on przekroczonej iloœci prób logowañ na godzinê (rys.~\ref{fig:Rys06/Error.png}).


\begin{figure}[htb]
\centering
\includegraphics[scale=0.55]{Rys06/Error.png}
\caption{Konsola aplikacji}
\label{fig:Rys06/Error.png}
\end{figure}

Ponownie skorzystano z komendy \texttt{sqlmap -wizard}, natomiast tym razem skonfigurowano go tak jak na rysunku~\ref{fig:Rys04/SQLMap3.png}. Skan zakoñczy³ siê bez zawieszenia aplikacji, lecz podczas niego przyjmowa³a ona bardzo du¿o ¿¹dañ POST w ma³ym przedziale czasu (rys.~\ref{fig:Rys06/Error2.png}). 

Nastêpnie u¿yto narzêdzia Metasploit i za³adowano plugin WMAP. Skonfigurowano go opieraj¹c siê na rysunku~\ref{Rys04/Metasploit1.png}. Jego wynik oraz przepieg nie zmieni³ siê patrz¹c na wczeœniejszy wycinek z konsoli aplikacji (rys.~\ref{Rys04/console2.png})

Na koñcu wykorzystano ponownie exploit \texttt{scanner/mysql/mysql\_login}. Ustawino go zgodnie z rysunkiem~\ref{Rys04/Metasploit2.png}. Tak jak wczeœniej nieuda³o siê go uruchomiæ (rys~\ref{Rys04/Metasploit3.png}).

\newpage
\begin{figure}[htb]
\centering
\includegraphics[scale=0.5]{Rys06/Error2.png}
\caption{Konsola aplikacji}
\label{fig:Rys06/Error2.png}
\end{figure}



\section{Analiza zaimplementowanych zmian}
Ponownie przeprowadzony audyt wykaza³, i¿ zaimplementowane zmiany w aplikacji zmniejszy³y jej podatnoœæ na ataki. Nie znaleziono ¿adnych parametrów POST i GET, które mo¿na wykorzystaæ do w³amania siê zakoñczonego sukcesem. Wprowadzono limity prób logowania siê dla u¿ytkowników, aby ochorniæ funkcjê przed skanami oraz atakuj¹cymi, którzy rêcznie chc¹ siê w³amaæ na konto. Ponadto wprowadzona polityka jakoœci oraz cieniowania has³a zwiêksza jego bezpieczeñstwo przy przesy³aniu miêdzy klientem, a serwerem aplikacji webowej. Natomiast niewprowadzono zaproponowanego protoko³u HTTPS, który szyfrowa³by ich po³¹czenie. Rozwi¹zano te¿ wa¿ny problem z wy³¹czaj¹c¹ siê aplikacj¹, przy tworzeniu konta z loginem lub adresem e-mail, które s¹ ju¿ przypisane do innego istniej¹cego konta. Lecz teraz pojawi³ siê problem obs³ugi bardzo du¿ej iloœci ¿¹dañ w ma³ym zakresie czasu.